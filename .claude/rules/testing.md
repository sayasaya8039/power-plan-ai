---
paths: "**/*.test.ts, **/*.spec.ts, **/*.test.js, **/*.spec.js, **/test_*.py, **/*_test.py"
---

# テストルール

## 基本構造
- `describe` / `it` または `test` で構造化する
- AAA（Arrange-Act-Assert）パターンを使用
- テスト名は日本語で何をテストしているか明確に記述

## モック・スタブ
- モックは最小限に抑える
- 外部依存（API、DB等）のみモック化
- モックの戻り値は現実的なデータを使用

## カバレッジ
- 重要なビジネスロジックは必ずテスト
- エッジケース・境界値をカバー
- エラーハンドリングもテスト対象

## 命名規則
```
// JavaScript/TypeScript
describe('UserService', () => {
  it('ユーザーが存在する場合、ユーザー情報を返す', () => {})
  it('ユーザーが存在しない場合、nullを返す', () => {})
})

# Python
def test_ユーザーが存在する場合_ユーザー情報を返す():
    pass
```

## 禁止事項
- テスト間の依存関係を作らない
- 本番環境のデータを使用しない
- sleepによる待機（適切なモック・スタブを使用）
